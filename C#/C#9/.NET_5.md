# Top-Level Statements

Il metodo **Main** di una classe contiene un parametro che consiste in un'array di stringhe, è che contiene l'elenco degli argomenti che possono essere passati all'applicazione dalla linea di comando al momento della sua esecuzione.

Le istruzioni di primo livello sono quelle messe al di fuori della classe principale del process assembly.

* Possiamo eliminare dai nostri programmi la classe principale ed il metodo Main() contenuto in essa, lasciando
  all'interno del sorgente solamente una serie di top'level statements che vengono automaticamente eseguite come se si trovassero all'interno del metodo Main().

* Se viene fatta una cosa del genere, **solo un file all'interno della nostra applicazione può contenere delle
  top-level statements**. Non può esistere più di uno.

* Se usiamo le top-level statements, **non possiamo racchiuderle all'interno di un namespace**. Si può però,
  continuare ad accedere all'array **args**.

* In fine, niente ci impedisci di definire altri types (classi, strutture, ecc) all'interno del sorgente che
  contiene le top-level statements, però **solamente dopo l'ultima top'level statement definita**. Altrimenti, otterremo un'errore di compilazione.

Tutto questo funziona perchè il compilatore C# si occupa di generare dietro le quinte tutto quello che è stato eliminato: in particolare genera un type di nome **Program**, un metodo di nome **Main**, in modo che il codice compilato alla fine risulti coerente con la normale sintassi del C# ed il programma possa essere eseguito.

Le top-level statements possono essere utili ad scopo didattico.

# init-Only Setters

Gli **init-only setters** permettono di creare delle proprietà read-only che possono però essere inizzializate usando anche la sintassi degli Object Initializer.

```
using System;

var instance = new Program {
    MyProp = "first"
};

// instance.MyProp = "second";
instance.Show();
partial class Program
{
    public string MyProp { get; set; }

    public void Show()
    {
        Console.WriteLine($"MyProp = {MyProp}");
    }
}
```

Se si vuole impostare un valore per una proprietà read-only dobbiamo renderla una proprietà che vale sia in lettura che in scrittura, vengono ussati precisamente gli **init-only setters**, mettendo la keyword **init** (init*only setter )al posto di **set**, rendendo la proprietà **inmutabile**.

```
using System;

var instance = new Program {
    MyProp = "first"
};

// instance.MyProp = "second";
instance.Show();
partial class Program
{
    public string MyProp { get; init; }

    public void Show()
    {
        Console.WriteLine($"MyProp = {MyProp}");
    }
}
```

Se si volesse modificare il valore della proprietà, otterremo un errore perchè attraverso la keyword **init** si è resa la proprietà come inmutabile.